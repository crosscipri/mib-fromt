import{a as Y}from"./chunk-XFPBWLV3.js";import{a as X}from"./chunk-JXNFZ6DQ.js";import{b as q,c as v,d as A,e as O,h as G,i as P,j as L,k as B,l as z,m as H,n as J,o as K,p as Q,r as W}from"./chunk-H6VHFWHS.js";import"./chunk-5XHJ4X6E.js";import{C as M,Da as l,Ea as D,G as U,L as y,La as f,Q as w,R as E,Sa as j,Xa as T,Za as V,ab as k,ba as a,ca as s,ja as p,la as m,mb as N,pa as n,qa as r,ra as c,va as R}from"./chunk-TI73ILXT.js";var I=i=>({"is-invalid":i});function ee(i,t){i&1&&(n(0,"div",21),l(1," La tarifa es obligatoria "),r())}function te(i,t){i&1&&(n(0,"div",21),l(1," El precio es obligatorio "),r())}function ie(i,t){i&1&&(n(0,"div",21),l(1," La duraci\xF3n es obligatoria "),r())}function re(i,t){i&1&&(n(0,"div",21),l(1," La duraci\xF3n es obligatoria "),r())}var $=(()=>{let t=class t{constructor(u,o,e,d){this.fb=u,this.ratesService=o,this.cdr=e,this.alertService=d,this.durationUnit="Month",this.rateForm=this.fb.group({name:[null,v.required],description:[null],price:[null,v.required],duration:[null,v.required],durationUnit:[null,v.required]})}ngOnInit(){this.rateForm.get("durationUnit")?.setValue("Month"),this.rateForm.get("durationUnit")?.valueChanges.subscribe(u=>{this.durationUnit=u}),this.cdr.detectChanges()}onSubmit(){this.isFormInvalid()||this.createRate(this.rateForm.getRawValue())}isFormInvalid(){return this.rateForm.invalid?(this.rateForm.markAllAsTouched(),!0):!1}createRate(u){this.ratesService.createRate(u).pipe(M(),U(o=>this.alertService.show(o.message,"success"))).subscribe()}};t.\u0275fac=function(o){return new(o||t)(s(Q),s(X),s(j),s(Y))},t.\u0275cmp=w({type:t,selectors:[["app-create-rates"]],decls:38,vars:18,consts:[[1,"container","mt-3"],[2,"height","85vh","overflow-y","auto","overflow-x","hidden"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","col-md-6","mb-3"],["for","name",1,"form-label","asterisk"],["type","text","id","name","formControlName","name","required","","placeholder","Introduce la tarifa",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","price",1,"form-label","asterisk"],["type","number","id","price","formControlName","price","required","","placeholder","Introduce el precio (\u20AC)",1,"form-control",3,"ngClass"],[1,"col-12","col-md-12","mb-3"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description","rows","3","placeholder","Introduce la description",1,"form-control"],["for","durationUnit",1,"form-label","asterisk"],["id","durationUnit","formControlName","durationUnit",1,"form-select",3,"ngClass"],["value","Month","selected",""],["value","Day"],["for","duration",1,"form-label","asterisk"],["type","number","id","duration","formControlName","duration","placeholder","Duraci\xF3n",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","float-end"],[1,"text-danger"]],template:function(o,e){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Crear tarifa"),r(),n(4,"form",3),R("ngSubmit",function(){return e.onSubmit()}),n(5,"div",4)(6,"div",5)(7,"label",6),l(8,"Tarifa"),r(),c(9,"input",7),p(10,ee,2,0,"div",8),r(),n(11,"div",5)(12,"label",9),l(13,"Precio"),r(),c(14,"input",10),p(15,te,2,0,"div",8),r()(),n(16,"div",4)(17,"div",11)(18,"label",12),l(19,"Descripcion"),r(),c(20,"textarea",13),r()(),n(21,"div",4)(22,"div",5)(23,"label",14),l(24,"Duracion"),r(),n(25,"select",15)(26,"option",16),l(27,"Meses"),r(),n(28,"option",17),l(29,"Dias"),r()(),p(30,ie,2,0,"div",8),r(),n(31,"div",5)(32,"label",18),l(33),r(),c(34,"input",19),p(35,re,2,0,"div",8),r()(),n(36,"button",20),l(37,"Crear tarifa"),r()()()()),o&2){let d,g,h,F,b,C,S,_;a(4),m("formGroup",e.rateForm),a(5),m("ngClass",f(10,I,(e.rateForm==null||(d=e.rateForm.get("name"))==null?null:d.invalid)&&(e.rateForm==null||(d=e.rateForm.get("name"))==null?null:d.touched))),a(),m("ngIf",(e.rateForm==null||(g=e.rateForm.get("name"))==null?null:g.invalid)&&(e.rateForm==null||(g=e.rateForm.get("name"))==null?null:g.touched)),a(4),m("ngClass",f(12,I,(e.rateForm==null||(h=e.rateForm.get("price"))==null?null:h.invalid)&&(e.rateForm==null||(h=e.rateForm.get("price"))==null?null:h.touched))),a(),m("ngIf",(e.rateForm==null||(F=e.rateForm.get("price"))==null?null:F.invalid)&&(e.rateForm==null||(F=e.rateForm.get("price"))==null?null:F.touched)),a(10),m("ngClass",f(14,I,(e.rateForm==null||(b=e.rateForm.get("durationUnit"))==null?null:b.invalid)&&(e.rateForm==null||(b=e.rateForm.get("durationUnit"))==null?null:b.touched))),a(5),m("ngIf",(e.rateForm==null||(C=e.rateForm.get("durationUnit"))==null?null:C.invalid)&&(e.rateForm==null||(C=e.rateForm.get("durationUnit"))==null?null:C.touched)),a(3),D(e.durationUnit==="Month"?"Meses":"Dias"),a(),m("ngClass",f(16,I,(e.rateForm==null||(S=e.rateForm.get("duration"))==null?null:S.invalid)&&(e.rateForm==null||(S=e.rateForm.get("duration"))==null?null:S.touched))),a(),m("ngIf",(e.rateForm==null||(_=e.rateForm.get("duration"))==null?null:_.invalid)&&(e.rateForm==null||(_=e.rateForm.get("duration"))==null?null:_.touched))}},dependencies:[T,V,G,H,J,q,P,z,A,O,K,L,B],styles:["button[_ngcontent-%COMP%]{width:100%;background-color:#39d1ac;border:none}button[_ngcontent-%COMP%]:hover{background-color:#2ba98a}@media (min-width: 768px){button[_ngcontent-%COMP%]{width:200px}}"]});let i=t;return i})();var ne=[{path:"",component:$}],x=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=E({type:t}),t.\u0275inj=y({imports:[N.forChild(ne),N]});let i=t;return i})();var Ce=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=E({type:t}),t.\u0275inj=y({imports:[k,W,x]});let i=t;return i})();export{Ce as CreateRatesModule};
